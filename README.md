# GS-SafezoneGO

SAFEZONEGO üö®üå™Ô∏è
Vis√£o Geral
O SAFEZONEGO √© um sistema inteligente desenvolvido para prestar socorro imediato e alertar a popula√ß√£o sobre poss√≠veis eventos naturais, como enchentes, deslizamentos, tempestades e outros desastres. O objetivo √© garantir seguran√ßa, informa√ß√£o r√°pida e redu√ß√£o de riscos, atrav√©s de uma plataforma tecnol√≥gica confi√°vel e de f√°cil acesso.

Funcionalidades principais
‚úÖ Monitoramento de Eventos Naturais:
O sistema integra dados de sensores, sat√©lites e APIs meteorol√≥gicas para identificar potenciais riscos naturais.

‚úÖ Sistema de controle:
Nosso sistema gera o controle de onde estao ocorrendo os eventos, quais sao os abrigos mais proximos e geramos socorro as pessoas afetadas.

‚úÖ Alertas em Tempo Real:
Quando um risco √© detectado, o SAFEZONEGO envia alertas instant√¢neos √† popula√ß√£o atrav√©s de notifica√ß√µes, SMS ou e-mail.

‚úÖ Coordena√ß√£o de Socorro:
A plataforma conecta equipes de resgate e socorro, otimizando o envio de recursos e a comunica√ß√£o entre √≥rg√£os p√∫blicos.

‚úÖ Mapeamento de √Åreas de Risco:
Interface com mapas georreferenciados que destacam zonas de risco e rotas seguras.

‚úÖ Hist√≥rico de Ocorr√™ncias:
Base de dados que armazena registros de eventos passados para an√°lise e preven√ß√£o futura.


--------

Este documento apresenta um passo a passo para criar, popular e testar o banco de dados SafeZoneGO, que gerencia abrigos, eventos naturais e pessoas afetadas.

INSTRU√áOES PARA ACESSOS E TESTES:

-- POSTMAN

Enpoints principais:
abrigos
pessoas
eventos

abrigos
{
  "nome": "Abrigo Central",
  "localizacao": "Rua B, 123",
  "capacidade": 100 ,
  "recursos": "alimentos"
}

pessoas
{
  "nome": "Jo√£o da Silva",
  "idade": 35,
  "contato": "joao@email.com",
  "eventoId": 1,
  "abrigoId": 1
}

eventos
{
  "id": 1,
  "descricao": "Enchente severa na regi√£o central",
  "intensidade": 8,
  "local_evento": "S√£o Paulo, SP",
  "totalPessoasAfetadas": 250
}




-- VIA BANCO DE DADOS ORACLE SQL



rode o projeto pelo icone spring boot

CONECTE COM ESSAS INFORMA√áOES:
FIAP
rm558373
110206
oracle.fiap.com.br
1521
orcl

use esse script NO BANCO....

-- Primeiro, deletar a tabela PessoaAfetada (depende de Abrigo e Evento)
DROP TABLE PessoaAfetada CASCADE CONSTRAINTS;

-- Depois, deletar Evento
DROP TABLE Evento CASCADE CONSTRAINTS;

-- Por fim, deletar Abrigo
DROP TABLE Abrigo CASCADE CONSTRAINTS;
üèóÔ∏è 2. Criar as tabelas
sql
Copy
Edit
CREATE TABLE Abrigo (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    localizacao VARCHAR2(150) NOT NULL,
    capacidade NUMBER NOT NULL,
    recursos VARCHAR2(255) NOT NULL
);

CREATE TABLE Evento (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    descricao VARCHAR2(255) NOT NULL,
    intensidade NUMBER NOT NULL,
    data_evento DATE,
    local_evento VARCHAR2(150) NOT NULL
);

CREATE TABLE PessoaAfetada (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    idade NUMBER NOT NULL,
    contato VARCHAR2(150) NOT NULL,
    abrigo_id NUMBER,
    evento_id NUMBER,
    CONSTRAINT fk_abrigo FOREIGN KEY (abrigo_id) REFERENCES Abrigo(id),
    CONSTRAINT fk_evento FOREIGN KEY (evento_id) REFERENCES Evento(id)
);

‚û°Ô∏è Abrigo (5 registros)
sql
Copy
Edit
INSERT INTO Abrigo (nome, localizacao, capacidade, recursos) VALUES ('Abrigo Central', 'Rua das Flores, 123', 50, 'Alimentos, √Ågua');
INSERT INTO Abrigo (nome, localizacao, capacidade, recursos) VALUES ('Abrigo Sul', 'Av. Brasil, 456', 100, 'Cobertores, Medicamentos');
INSERT INTO Abrigo (nome, localizacao, capacidade, recursos) VALUES ('Abrigo Norte', 'Rua das Palmeiras, 789', 75, 'Alimentos, Roupas');
INSERT INTO Abrigo (nome, localizacao, capacidade, recursos) VALUES ('Abrigo Leste', 'Av. Independ√™ncia, 321', 120, '√Ågua, Kits de primeiros socorros');
INSERT INTO Abrigo (nome, localizacao, capacidade, recursos) VALUES ('Abrigo Oeste', 'Rua das Oliveiras, 654', 60, 'Alimentos, √Ågua, Medicamentos');
‚û°Ô∏è Evento (5 registros)


INSERT INTO Evento (descricao, intensidade, data_evento, local_evento) VALUES ('Enchente no Bairro X', 3, TO_DATE('2025-06-01', 'YYYY-MM-DD'), 'Bairro X');
INSERT INTO Evento (descricao, intensidade, data_evento, local_evento) VALUES ('Deslizamento no Morro Azul', 4, TO_DATE('2025-06-05', 'YYYY-MM-DD'), 'Morro Azul');
INSERT INTO Evento (descricao, intensidade, data_evento, local_evento) VALUES ('Inc√™ndio Florestal', 5, TO_DATE('2025-06-10', 'YYYY-MM-DD'), 'Parque Nacional');
INSERT INTO Evento (descricao, intensidade, data_evento, local_evento) VALUES ('Tempestade El√©trica', 2, TO_DATE('2025-06-15', 'YYYY-MM-DD'), 'Centro Urbano');
INSERT INTO Evento (descricao, intensidade, data_evento, local_evento) VALUES ('Alagamento na Zona Sul', 3, TO_DATE('2025-06-20', 'YYYY-MM-DD'), 'Zona Sul');
‚û°Ô∏è PessoaAfetada (5 registros)

INSERT INTO PessoaAfetada (nome, idade, contato, abrigo_id, evento_id) 
VALUES ('Jo√£o da Silva', 35, 'joao@email.com', 1, 1);

INSERT INTO PessoaAfetada (nome, idade, contato, abrigo_id, evento_id) 
VALUES ('Maria Souza', 28, 'maria@email.com', 2, 2);

INSERT INTO PessoaAfetada (nome, idade, contato, abrigo_id, evento_id) 
VALUES ('Carlos Pereira', 42, 'carlos@email.com', 3, 3);

INSERT INTO PessoaAfetada (nome, idade, contato, abrigo_id, evento_id) 
VALUES ('Ana Costa', 30, 'ana@email.com', 4, 4);

INSERT INTO PessoaAfetada (nome, idade, contato, abrigo_id, evento_id) 
VALUES ('Lucas Lima', 25, 'lucas@email.com', 5, 5);
üîç 4. Testar opera√ß√µes CRUD
‚úÖ PessoaAfetada

-- READ
SELECT * FROM PessoaAfetada;

-- UPDATE
UPDATE PessoaAfetada SET contato = 'novoemail@email.com' WHERE id = 1;

-- DELETE
DELETE FROM PessoaAfetada WHERE id = 5;
‚úÖ Abrigo

-- READ
SELECT * FROM Abrigo;

-- UPDATE
UPDATE Abrigo SET capacidade = 200 WHERE id = 1;

-- DELETE
DELETE FROM Abrigo WHERE id = 5; 
-- ‚ö†Ô∏è Aten√ß√£o: s√≥ poss√≠vel se n√£o houver PessoaAfetada referenciando este Abrigo
‚úÖ Evento

-- READ
SELECT * FROM Evento;

-- UPDATE
UPDATE Evento SET intensidade = 4 WHERE id = 1;

-- DELETE
DELETE FROM Evento WHERE id = 5; 
-- ‚ö†Ô∏è Aten√ß√£o: s√≥ poss√≠vel se n√£o houver PessoaAfetada referenciando este Evento
‚ö†Ô∏è 5. Importante!
Antes de excluir um Abrigo ou Evento usado por uma PessoaAfetada, √© necess√°rio primeiro excluir ou atualizar os registros relacionados em PessoaAfetada, para evitar erro ORA-02292.

Exemplo:


-- Excluir pessoas associadas
DELETE FROM PessoaAfetada WHERE abrigo_id = 5 OR evento_id = 5;

-- Agora pode excluir com seguran√ßa
DELETE FROM Abrigo WHERE id = 5;
DELETE FROM Evento WHERE id = 5;
